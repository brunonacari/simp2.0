/* ============================================
       Regras globais para evitar extrapolação
       ============================================ */
*,
*::before,
*::after {
    box-sizing: border-box;
}

html,
body {
    overflow-x: hidden;
    max-width: 100vw;
}

input,
textarea,
select {
    max-width: 100%;
}

table {
    table-layout: auto;
    width: 100%;
}

/* ============================================
       Choices.js Customização
       ============================================ */
.choices {
    margin-bottom: 0;
    width: 100%;
}

.choices__inner {
    min-height: 42px;
    padding: 6px 12px;
    background-color: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 10px !important;
    font-size: 13px;
    width: 100%;
    box-sizing: border-box;
}

.choices__inner:focus,
.is-focused .choices__inner,
.is-open .choices__inner {
    background-color: #ffffff;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.choices__list--single {
    padding: 4px 16px 4px 4px;
}

.choices__list--single .choices__item {
    color: #334155;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.choices__list--single .choices__item--selectable {
    color: #334155 !important;
}

.choices__placeholder {
    color: #94a3b8;
    opacity: 1;
}

.choices__list--dropdown {
    border: 1px solid #e2e8f0;
    border-radius: 10px !important;
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
    margin-top: 4px;
    z-index: 9999 !important;
}

.choices__list--dropdown .choices__item {
    padding: 10px 14px;
    font-size: 13px;
}

.choices__list--dropdown .choices__item--selectable.is-highlighted {
    background-color: #dbeafe;
    color: #1e293b;
}

.choices__list--dropdown .choices__item--selectable.is-selected {
    background-color: #eff6ff;
    color: #3b82f6;
}

.choices[data-type*="select-one"] .choices__input {
    padding: 10px 12px;
    border: 1px solid #e2e8f0;
    border-radius: 6px;
    font-size: 13px;
    margin: 8px;
    width: calc(100% - 16px) !important;
    max-width: calc(100% - 16px) !important;
    box-sizing: border-box;
}

.choices[data-type*="select-one"] .choices__input:focus {
    border-color: #3b82f6;
    outline: none;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.choices[data-type*="select-one"]::after {
    border-color: #64748b transparent transparent transparent;
    right: 14px;
}

/* ============================================
       Page Container
       ============================================ */
.operacoes-container {
    padding: 24px;
    max-width: 1800px;
    margin: 0 auto;
    overflow-x: hidden;
    width: 100%;
}

/* ============================================
       Page Header
       ============================================ */
.operacoes-header {
    background: linear-gradient(135deg, #1e3a5f 0%, #2d5a87 100%);
    border-radius: 16px;
    padding: 28px 32px;
    margin-bottom: 24px;
    color: white;
}

.operacoes-header-content {
    display: flex;
    align-items: center;
    gap: 20px;
}

.operacoes-header-icon {
    width: 56px;
    height: 56px;
    background: rgba(255, 255, 255, 0.15);
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.operacoes-header-icon ion-icon {
    font-size: 28px;
    color: white;
}

.operacoes-header h1 {
    font-size: 22px;
    font-weight: 700;
    margin: 0 0 4px 0;
}

.operacoes-header p {
    font-size: 14px;
    opacity: 0.8;
    margin: 0;
}

/* ============================================
       Filters Card
       ============================================ */
.filtros-card {
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 16px;
    padding: 24px;
    margin-bottom: 20px;
    overflow: visible;
    max-width: 100%;
    position: relative;
    z-index: 10;
}

.filtros-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
    padding-bottom: 16px;
    border-bottom: 1px solid #f1f5f9;
}

.filtros-title {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 14px;
    font-weight: 600;
    color: #334155;
}

.filtros-title ion-icon {
    font-size: 18px;
    color: #64748b;
}

.filtros-header-right {
    display: flex;
    align-items: center;
    gap: 16px;
}

.filtros-header-right .form-label-inline {
    font-size: 12px;
    font-weight: 600;
    color: #475569;
    margin-right: 8px;
}

/* Radio Buttons Group */
.radio-group {
    display: flex;
    gap: 4px;
    background: #f1f5f9;
    padding: 4px;
    border-radius: 10px;
}

.radio-item {
    display: flex;
    align-items: center;
    cursor: pointer;
    margin: 0;
}

.radio-item input[type="radio"] {
    display: none;
}

.radio-item .radio-label {
    padding: 8px 16px;
    font-size: 13px;
    font-weight: 500;
    color: #64748b;
    border-radius: 8px;
    transition: all 0.2s ease;
    white-space: nowrap;
}

.radio-item input[type="radio"]:checked+.radio-label {
    background: white;
    color: #1e293b;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.radio-item:hover .radio-label {
    color: #1e293b;
}

.btn-clear-filters {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 14px;
    background: #f8fafc;
    color: #64748b;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    font-size: 12px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-clear-filters:hover {
    background: #f1f5f9;
    color: #475569;
}

/* Grid de Filtros */
.filtros-grid {
    display: grid;
    grid-template-columns: minmax(180px, 1.3fr) minmax(180px, 1.3fr) minmax(150px, 1.3fr) 90px minmax(160px, 200px);
    gap: 16px;
    align-items: end;
}

.filtros-grid.modo-datas {
    grid-template-columns: 1.3fr 1.3fr 1.3fr 90px 180px;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.form-label {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 11px;
    font-weight: 600;
    color: #475569;
    text-transform: uppercase;
    letter-spacing: 0.03em;
}

.form-label ion-icon {
    font-size: 14px;
    color: #94a3b8;
}

.form-control {
    width: 100%;
    padding: 10px 12px;
    background-color: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 10px !important;
    font-family: inherit;
    font-size: 13px;
    color: #334155;
    transition: all 0.2s ease;
    box-sizing: border-box;
}

.form-control:focus {
    outline: none;
    background-color: #ffffff;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

input[type="date"].form-control {
    min-width: 140px;
}

/* Autocomplete para Ponto de Medição */
.autocomplete-container {
    position: relative;
    z-index: 100;
}

.autocomplete-container input.form-control {
    padding-right: 35px;
}

.autocomplete-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border: 1px solid #e2e8f0;
    border-top: none;
    border-radius: 0 0 10px 10px !important;
    max-height: 250px;
    overflow-y: auto;
    z-index: 9999;
    display: none;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.autocomplete-dropdown.active {
    display: block;
}

.autocomplete-item {
    padding: 10px 14px;
    cursor: pointer;
    border-bottom: 1px solid #f1f5f9;
    font-size: 13px;
}

.autocomplete-item:last-child {
    border-bottom: none;
}

.autocomplete-item:hover,
.autocomplete-item.highlighted {
    background-color: #3b82f6;
    color: white;
}

.autocomplete-item .item-code {
    font-family: 'SF Mono', Monaco, monospace;
    font-size: 12px;
    color: #64748b;
}

.autocomplete-item:hover .item-code,
.autocomplete-item.highlighted .item-code {
    color: rgba(255, 255, 255, 0.8);
}

.autocomplete-item .item-name {
    display: block;
    margin-top: 2px;
}

.autocomplete-loading {
    padding: 12px;
    text-align: center;
    color: #64748b;
    font-size: 13px;
}

.autocomplete-empty {
    padding: 12px;
    text-align: center;
    color: #94a3b8;
    font-size: 13px;
}

.btn-limpar-autocomplete {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: #94a3b8;
    cursor: pointer;
    padding: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.btn-limpar-autocomplete:hover {
    color: #ef4444;
}

.btn-limpar-autocomplete ion-icon {
    font-size: 18px;
}

.filtros-actions {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid #e2e8f0;
}

.btn-filtrar {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 12px 24px;
    background: #3b82f6;
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-filtrar:hover {
    background: #2563eb;
}

.btn-filtrar ion-icon {
    font-size: 18px;
}

.btn-analise-ia {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 12px 24px;
    background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-analise-ia:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
}

.btn-analise-ia ion-icon {
    font-size: 18px;
}

/* Modal Análise IA - seguindo padrão do modal de validação */
.modal-analise-ia {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 9999;
    justify-content: center;
    align-items: center;
}

.modal-analise-ia.active {
    display: flex;
}

.modal-analise-ia-content {
    background: white;
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    width: 90%;
    max-width: 900px;
    max-height: 90vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
}

.modal-analise-ia-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    border-bottom: 1px solid #e2e8f0;
    background: linear-gradient(135deg, #1e3a5f 0%, #2d4a6f 100%);
    color: white;
}

.modal-analise-ia-header h3 {
    margin: 0;
    font-size: 16px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
}

.modal-analise-ia-header .subtitulo {
    font-size: 12px;
    opacity: 0.8;
    margin-top: 2px;
}

.modal-analise-ia-header .btn-fechar {
    background: rgba(255, 255, 255, 0.2);
    border: none;
    color: white;
    font-size: 20px;
    cursor: pointer;
    padding: 4px 8px;
    border-radius: 4px;
    line-height: 1;
}

.modal-analise-ia-header .btn-fechar:hover {
    background: rgba(255, 255, 255, 0.3);
}

.modal-analise-ia-body {
    padding: 20px;
    overflow-y: auto;
    overflow-x: hidden;
    flex: 1;
    box-sizing: border-box;
}

/* Acordeões */
.analise-loading {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 60px 20px;
    color: #64748b;
}

.analise-loading ion-icon {
    font-size: 48px;
    animation: spin 1s linear infinite;
    margin-bottom: 16px;
    color: #8b5cf6;
}

.analise-vazia {
    text-align: center;
    padding: 60px 20px;
    color: #64748b;
}

.analise-vazia ion-icon {
    font-size: 48px;
    margin-bottom: 16px;
    color: #cbd5e1;
}

/* Acordeão Tipo */
.acordeao-tipo {
    border-bottom: 1px solid #e2e8f0;
}

.acordeao-tipo-header {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px 24px;
    cursor: pointer;
    background: #f8fafc;
    transition: background 0.2s;
}

.acordeao-tipo-header:hover {
    background: #f1f5f9;
}

.acordeao-tipo-header .icone-toggle {
    font-size: 20px;
    color: #64748b;
    transition: transform 0.3s;
}

.acordeao-tipo.aberto .acordeao-tipo-header .icone-toggle {
    transform: rotate(90deg);
}

.acordeao-tipo-header .icone-tipo {
    font-size: 20px;
    color: #8b5cf6;
}

.acordeao-tipo-header h4 {
    margin: 0;
    font-size: 15px;
    font-weight: 600;
    color: #334155;
    flex: 1;
}

.acordeao-tipo-header .badge-count {
    background: #e0e7ff;
    color: #4f46e5;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 11px;
    font-weight: 600;
}

.acordeao-tipo-content {
    display: none;
    padding-left: 20px;
}

.acordeao-tipo.aberto .acordeao-tipo-content {
    display: block;
}

/* Acordeão Valor */
.acordeao-valor {
    border-bottom: 1px solid #f1f5f9;
}

.acordeao-valor-header {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 20px;
    cursor: pointer;
    transition: background 0.2s;
}

.acordeao-valor-header:hover {
    background: #faf5ff;
}

.acordeao-valor-header .icone-toggle {
    font-size: 16px;
    color: #94a3b8;
    transition: transform 0.3s;
}

.acordeao-valor.aberto .acordeao-valor-header .icone-toggle {
    transform: rotate(90deg);
}

.acordeao-valor-header h5 {
    margin: 0;
    font-size: 13px;
    font-weight: 500;
    color: #475569;
    flex: 1;
}

.acordeao-valor-header .badge-count {
    background: #f3e8ff;
    color: #7c3aed;
    padding: 2px 6px;
    border-radius: 8px;
    font-size: 10px;
    font-weight: 600;
}

.acordeao-valor-content {
    display: none;
    padding-left: 16px;
}

.acordeao-valor.aberto .acordeao-valor-content {
    display: block;
}

/* Acordeão Ponto */
.acordeao-ponto {
    border-bottom: 1px solid #f8fafc;
}

.acordeao-ponto-header {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 16px;
    cursor: pointer;
    transition: background 0.2s;
}

.acordeao-ponto-header:hover {
    background: #fefce8;
}

.acordeao-ponto-header .icone-toggle {
    font-size: 14px;
    color: #cbd5e1;
    transition: transform 0.3s;
}

.acordeao-ponto.aberto .acordeao-ponto-header .icone-toggle {
    transform: rotate(90deg);
}

.acordeao-ponto-header .icone-ponto {
    font-size: 14px;
    color: #f59e0b;
}

.acordeao-ponto-header .ponto-info {
    flex: 1;
}

.acordeao-ponto-header .ponto-info strong {
    font-size: 11px;
    color: #64748b;
}

.acordeao-ponto-header .ponto-info span {
    font-size: 12px;
    color: #334155;
    margin-left: 6px;
}

.acordeao-ponto-content {
    display: none;
    padding: 8px 16px 16px 40px;
}

.acordeao-ponto.aberto .acordeao-ponto-content {
    display: block;
}

.acordeao-ponto-loading {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #64748b;
    font-size: 12px;
    padding: 12px 0;
}

.acordeao-ponto-loading ion-icon {
    animation: spin 1s linear infinite;
}

/* Lista de Datas */
.lista-datas {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.data-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 12px;
    background: #f8fafc;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
}

.data-item:hover {
    background: #e0f2fe;
}

.data-item.selecionada {
    background: #dbeafe;
    border-left: 3px solid #3b82f6;
}

.data-item .data-info {
    flex: 1;
}

.data-item .data-info .data-texto {
    font-size: 12px;
    font-weight: 600;
    color: #334155;
}

.data-item .data-info .data-resumo {
    font-size: 10px;
    color: #64748b;
    margin-top: 2px;
}

.data-item .status-badge {
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 9px;
    font-weight: 600;
    text-transform: uppercase;
}

.data-item .status-badge.completo {
    background: #dcfce7;
    color: #16a34a;
}

.data-item .status-badge.incompleto {
    background: #fef3c7;
    color: #d97706;
}

.data-item .status-badge.critico {
    background: #fee2e2;
    color: #dc2626;
}

.data-item .badge-anomalia {
    background: #fef2f2;
    color: #ef4444;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 9px;
    font-weight: 600;
}

/* Wrapper de data com área inline */
.data-item-wrapper {
    margin-bottom: 6px;
}

.data-item-wrapper .data-item {
    position: relative;
    margin-bottom: 0;
}

.data-item-wrapper .data-item .icone-expandir {
    font-size: 16px;
    color: #94a3b8;
    transition: transform 0.3s;
    margin-left: 8px;
}

.data-item-wrapper.expandido .data-item {
    background: #dbeafe;
    border-left: 3px solid #3b82f6;
    border-radius: 8px 8px 0 0;
}

.data-item-wrapper.expandido .data-item .icone-expandir {
    transform: rotate(180deg);
    color: #3b82f6;
}

/* Área de análise inline */
.analise-area-inline {
    background: linear-gradient(135deg, #f0f9ff 0%, #faf5ff 100%);
    border: 1px solid #c7d2fe;
    border-top: none;
    border-radius: 0 0 8px 8px;
    padding: 12px;
    margin-bottom: 6px;
}

.analise-inline-metricas {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 10px;
}

.metrica-inline {
    background: white;
    padding: 6px 10px;
    border-radius: 6px;
    text-align: center;
    min-width: 60px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.metrica-inline .valor {
    display: block;
    font-size: 14px;
    font-weight: 700;
    color: #334155;
}

.metrica-inline .label {
    font-size: 9px;
    color: #64748b;
}

.metrica-inline.positivo .valor {
    color: #16a34a;
}

.metrica-inline.negativo .valor {
    color: #dc2626;
}

.metrica-inline.alerta .valor {
    color: #d97706;
}

.analise-inline-acoes {
    margin-bottom: 10px;
}

.btn-detectar-inline {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 5px 10px;
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    color: white;
    border: none;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-detectar-inline:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(245, 158, 11, 0.4);
}

.btn-detectar-inline:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.btn-detectar-inline ion-icon {
    font-size: 12px;
}

.btn-validar-inline {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 5px 10px;
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
    border: none;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-validar-inline:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(59, 130, 246, 0.4);
}

.btn-validar-inline ion-icon {
    font-size: 12px;
}

.analise-inline-texto {
    font-size: 12px;
    line-height: 1.5;
    color: #334155;
    background: white;
    padding: 10px;
    border-radius: 6px;
}

.analise-erro {
    display: flex;
    align-items: center;
    gap: 6px;
    color: #dc2626;
    font-size: 12px;
    padding: 8px;
    background: #fef2f2;
    border-radius: 6px;
}

/* Anomalias inline */
.anomalias-inline-container {
    margin-top: 10px;
}

.anomalias-inline-ok {
    display: flex;
    align-items: center;
    gap: 6px;
    color: #16a34a;
    font-size: 11px;
    padding: 8px;
    background: #f0fdf4;
    border-radius: 6px;
}

.anomalias-inline-ok ion-icon {
    font-size: 16px;
}

.anomalias-inline-header {
    display: flex;
    align-items: center;
    gap: 6px;
    color: #f59e0b;
    font-size: 11px;
    font-weight: 600;
    margin-bottom: 8px;
}

.anomalias-inline-header ion-icon {
    font-size: 14px;
}

.anomalias-inline-lista {
    display: flex;
    flex-direction: column;
    gap: 4px;
    max-height: 150px;
    overflow-y: auto;
}

.anomalia-inline-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 11px;
    padding: 6px 8px;
    background: #fffbeb;
    border-radius: 4px;
    border-left: 3px solid #f59e0b;
}

.anomalia-inline-item.critico {
    background: #fef2f2;
    border-left-color: #dc2626;
}

.anomalia-inline-item.erro {
    background: #fef2f2;
    border-left-color: #b91c1c;
}

.anomalia-inline-item .hora {
    font-weight: 700;
    color: #64748b;
    min-width: 45px;
}

.anomalia-inline-item .msg {
    color: #334155;
    flex: 1;
}

.anomalias-loading {
    display: flex;
    align-items: center;
    gap: 6px;
    color: #64748b;
    font-size: 11px;
    padding: 8px;
}

.anomalias-loading ion-icon {
    animation: spin 1s linear infinite;
}

/* Área de Análise */
.analise-area {
    margin-top: 12px;
    padding: 16px;
    background: linear-gradient(135deg, #faf5ff 0%, #f0f9ff 100%);
    border-radius: 10px;
    border: 1px solid #e9d5ff;
}

.analise-area-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;
    color: #7c3aed;
    font-weight: 600;
    font-size: 13px;
}

.analise-area-header ion-icon {
    font-size: 18px;
}

.analise-area-content {
    font-size: 13px;
    line-height: 1.6;
    color: #334155;
}

.analise-area-loading {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #7c3aed;
    font-size: 12px;
}

.analise-area-loading ion-icon {
    animation: spin 1s linear infinite;
}

.analise-metricas {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 10px;
    margin-bottom: 12px;
}

.metrica-item {
    background: white;
    padding: 10px;
    border-radius: 8px;
    text-align: center;
}

.metrica-item .valor {
    font-size: 16px;
    font-weight: 700;
    color: #334155;
}

.metrica-item .label {
    font-size: 10px;
    color: #64748b;
    margin-top: 2px;
}

.metrica-item.positivo .valor {
    color: #16a34a;
}

.metrica-item.negativo .valor {
    color: #dc2626;
}

.metrica-item.alerta .valor {
    color: #d97706;
}

/* Botões de ação na análise */
.analise-acoes {
    display: flex;
    gap: 10px;
    margin: 12px 0;
    flex-wrap: wrap;
}

.btn-detectar-anomalias {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 14px;
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-detectar-anomalias:hover {
    transform: translateY(-1px);
    box-shadow: 0 3px 8px rgba(245, 158, 11, 0.4);
}

.btn-detectar-anomalias:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.btn-detectar-anomalias ion-icon {
    font-size: 14px;
}

/* Lista de anomalias */
.anomalias-container {
    margin-top: 16px;
    border-top: 1px solid #e2e8f0;
    padding-top: 16px;
}

.anomalias-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;
    color: #f59e0b;
    font-weight: 600;
    font-size: 13px;
}

.anomalias-header ion-icon {
    font-size: 18px;
}

.anomalias-resumo {
    display: flex;
    gap: 16px;
    margin-bottom: 12px;
    font-size: 12px;
    color: #64748b;
}

.anomalias-resumo span {
    display: flex;
    align-items: center;
    gap: 4px;
}

.anomalias-lista {
    display: flex;
    flex-direction: column;
    gap: 8px;
    max-height: 300px;
    overflow-y: auto;
}

.anomalia-hora-card {
    background: #fffbeb;
    border: 1px solid #fde68a;
    border-radius: 8px;
    padding: 10px 12px;
}

.anomalia-hora-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
    font-weight: 600;
    font-size: 13px;
    color: #92400e;
}

.anomalia-hora-header .badge-count {
    background: #fde68a;
    color: #92400e;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 10px;
    margin-left: auto;
}

.anomalia-item {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    padding: 6px 0;
    font-size: 12px;
    border-bottom: 1px dashed #fde68a;
}

.anomalia-item:last-child {
    border-bottom: none;
}

.anomalia-item .icone {
    flex-shrink: 0;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-size: 12px;
}

.anomalia-item .icone.critico {
    background: #fee2e2;
    color: #dc2626;
}

.anomalia-item .icone.erro {
    background: #fecaca;
    color: #b91c1c;
}

.anomalia-item .icone.alerta {
    background: #fef3c7;
    color: #d97706;
}

.anomalia-item .icone.info {
    background: #dbeafe;
    color: #2563eb;
}

.anomalia-item .conteudo {
    flex: 1;
}

.anomalia-item .mensagem {
    color: #334155;
    font-weight: 500;
}

.anomalia-item .sugestao {
    color: #64748b;
    font-size: 11px;
    margin-top: 2px;
}

.anomalias-vazio {
    text-align: center;
    padding: 20px;
    color: #16a34a;
    font-size: 13px;
}

.anomalias-vazio ion-icon {
    font-size: 32px;
    margin-bottom: 8px;
    display: block;
}

/* Navegação de Mês */
.mes-navegacao {
    display: flex;
    align-items: center;
    gap: 4px;
}

.mes-navegacao .form-control {
    flex: 1;
    min-width: 120px;
}

.btn-nav-mes {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 42px;
    background: #f1f5f9;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    color: #64748b;
    cursor: pointer;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.btn-nav-mes:hover {
    background: #e2e8f0;
    color: #1e3a5f;
    border-color: #cbd5e1;
}

.btn-nav-mes:active {
    background: #cbd5e1;
}

.btn-nav-mes ion-icon {
    font-size: 18px;
}

/* ============================================
       Resultado
       ============================================ */
.resultado-card {
    background: #ffffff;
    border-radius: 12px;
    padding: 24px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    max-width: 100%;
}

.resultado-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
}

.resultado-header h3 {
    font-size: 16px;
    font-weight: 600;
    color: #1e3a5f;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 8px;
}

.resultado-info {
    font-size: 13px;
    color: #64748b;
}

.resultado-info strong {
    color: #1e3a5f;
}

.tipo-medidor-badge {
    display: inline-flex;
    align-items: center;
    padding: 4px 10px;
    background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%);
    border: 1px solid #7dd3fc;
    border-radius: 6px;
    font-size: 11px;
    font-weight: 600;
    color: #0369a1;
    text-transform: uppercase;
    letter-spacing: 0.3px;
    margin-right: 8px;
}

.tipo-medidor-badge:empty {
    display: none;
}

/* Gráfico */
.grafico-container {
    width: 100%;
    height: 400px;
    margin-bottom: 24px;
}

/* Tabela de Dados */
.tabela-container {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    max-width: 100%;
}

.tabela-dados {
    width: 100%;
    border-collapse: collapse;
    font-size: 13px;
}

.tabela-dados th {
    background: #f8fafc;
    padding: 12px 14px;
    text-align: center;
    font-weight: 600;
    color: #475569;
    border: 1px solid #e2e8f0;
    white-space: nowrap;
}

.tabela-dados th.header-group {
    background: #1e3a5f;
    color: white;
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.tabela-dados th.header-group.entrada {
    background: #16a34a;
}

.tabela-dados th.header-group.saida {
    background: #dc2626;
}

.tabela-dados th.header-group.resultado {
    background: #1e3a5f;
    min-width: 100px;
}

.tabela-dados th.header-subtotal {
    background: #e2e8f0;
    font-size: 11px;
    font-weight: 700;
    min-width: 90px;
    white-space: nowrap;
}

.tabela-dados th.header-subtotal.entrada {
    background: #bbf7d0;
    color: #166534;
}

.tabela-dados th.header-subtotal.saida {
    background: #fecaca;
    color: #991b1b;
}

.tabela-dados th.header-ponto {
    background: #f1f5f9;
    font-size: 11px;
    max-width: 150px;
    white-space: normal;
    line-height: 1.3;
}

.tabela-dados th.header-ponto .icone-op {
    font-weight: bold;
    font-size: 13px;
}

.tabela-dados th.header-ponto .icone-op.soma {
    color: #16a34a;
}

.tabela-dados th.header-ponto .icone-op.subtracao {
    color: #dc2626;
}

.tabela-dados th.header-ponto {
    position: relative;
}

.btn-grafico-popup {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 22px;
    height: 22px;
    padding: 0;
    margin-left: 6px;
    background: #e0f2fe;
    border: 1px solid #7dd3fc;
    border-radius: 4px;
    color: #0284c7;
    cursor: pointer;
    transition: all 0.2s;
    vertical-align: middle;
}

.btn-grafico-popup:hover {
    background: #0284c7;
    border-color: #0284c7;
    color: #fff;
}

.btn-grafico-popup ion-icon {
    font-size: 12px;
}

/* ============================================
   Modal Gráfico Popup - Médias Horárias
   Padrão visual SIMP (overlay + header gradient)
   ============================================ */
.grafico-popup {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 9999;
    background: rgba(0, 0, 0, 0.5);
    align-items: center;
    justify-content: center;
    padding: 20px;
}

.grafico-popup.active {
    display: flex;
}

.grafico-popup-inner {
    background: #ffffff;
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    width: 95%;
    max-width: 1300px;
    max-height: 90vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    animation: graficoPopupEntrar 0.25s ease-out;
}

@keyframes graficoPopupEntrar {
    from {
        opacity: 0;
        transform: scale(0.95) translateY(-10px);
    }

    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

.grafico-popup-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    background: linear-gradient(135deg, #1e3a5f 0%, #2d5a87 100%);
    color: white;
    flex-shrink: 0;
}

.grafico-popup-titulo {
    font-size: 15px;
    font-weight: 600;
    color: #ffffff;
}

.grafico-popup-codigo {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.7);
    font-weight: 500;
    margin-top: 2px;
}

.grafico-popup-fechar {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.15);
    border: none;
    border-radius: 8px;
    color: white;
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s ease;
}

.grafico-popup-fechar:hover {
    background: rgba(255, 255, 255, 0.25);
}

.grafico-popup-container {
    padding: 20px;
    height: 300px;
    position: relative;
}

.grafico-popup-container canvas {
    width: 100% !important;
    height: 100% !important;
}

/* Legenda invisível no gráfico popup */
.grafico-popup-container canvas+div,
.grafico-popup-container .chartjs-legend {
    color: transparent !important;
}

/* Ocultar legenda do gráfico popup de médias horárias */
.grafico-popup-container .chartjs-legend,
.grafico-popup-container [class*="legend"] {
    display: none !important;
}

.grafico-popup-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 300px;
    color: #64748b;
    font-size: 14px;
    gap: 10px;
}

@keyframes spin {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

/* Responsivo */
@media (max-width: 768px) {
    .grafico-popup {
        padding: 0;
    }

    .grafico-popup-inner {
        width: 100%;
        max-width: 100%;
        max-height: 100%;
        border-radius: 0;
    }

    .grafico-popup-container {
        min-height: 300px;
        padding: 12px;
    }
}

/* Override z-index do toast para ficar acima do modal */
.toast-container {
    z-index: 10001 !important;
}

/* Modal de Validação de Dados */
.modal-validacao-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 10000;
    align-items: center;
    justify-content: center;
}

.modal-validacao-overlay.active {
    display: flex;
}

.modal-validacao {
    background: white;
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    width: 95%;
    max-width: 1400px;
    height: 90vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
}

.modal-validacao-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    border-bottom: 1px solid #e2e8f0;
    background: linear-gradient(135deg, #1e3a5f 0%, #2d4a6f 100%);
    color: white;
    flex-shrink: 0;
}

.modal-validacao-header h3 {
    margin: 0;
    font-size: 16px;
    font-weight: 600;
}

.modal-validacao-header .subtitulo {
    font-size: 12px;
    opacity: 0.8;
    margin-top: 2px;
}

.modal-validacao-close {
    background: rgba(255, 255, 255, 0.2);
    border: none;
    color: white;
    font-size: 20px;
    cursor: pointer;
    padding: 4px 8px;
    border-radius: 4px;
    line-height: 1;
}

.modal-validacao-close:hover {
    background: rgba(255, 255, 255, 0.3);
}

.modal-validacao-body {
    display: flex;
    flex: 1;
    overflow: hidden;
    box-sizing: border-box;
}

/* Coluna principal (esquerda) */
.validacao-coluna-principal {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    overflow-x: hidden;
    box-sizing: border-box;
}

/* Coluna de IA (direita) */
.validacao-coluna-ia {
    width: 547px;
    min-width: 547px;
    background: linear-gradient(135deg, #eff6ff 0%, #f0fdf4 100%);
    border-left: 1px solid #e2e8f0;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    box-sizing: border-box;
}

.validacao-coluna-ia .ia-panel-header {
    padding: 16px;
    border-bottom: 1px solid #bfdbfe;
    flex-shrink: 0;
}

.validacao-coluna-ia .ia-panel-title {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 600;
    color: #1e40af;
    font-size: 14px;
}

.validacao-coluna-ia .ia-panel-title ion-icon {
    font-size: 20px;
}

.validacao-coluna-ia .ia-chat-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    padding: 16px;
    box-sizing: border-box;
    min-height: 0;
    overflow: visible;
    /* Mudou de hidden para visible */
}

.validacao-coluna-ia .ia-chat-titulo {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    font-weight: 600;
    color: #475569;
    margin-bottom: 12px;
    flex-shrink: 0;
}

.validacao-coluna-ia .ia-chat-sugestoes {
    flex-shrink: 0;
}

.validacao-coluna-ia .ia-chat-mensagens {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    background: #f8fafc;
    border-radius: 8px;
    padding: 12px;
    margin-bottom: 12px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    box-sizing: border-box;
    min-height: 150px;
    max-height: calc(100vh - 420px);
    align-content: flex-start;
    order: 3;
}

.validacao-coluna-ia .ia-chat-mensagens:empty::before {
    content: 'As respostas da IA aparecerão aqui...';
    color: #94a3b8;
    font-size: 13px;
    text-align: center;
    padding: 40px 20px;
}

.validacao-coluna-ia .ia-chat-input-container {
    display: flex;
    gap: 8px;
    flex-shrink: 0;
    order: 4;
}

.validacao-grafico-container {
    height: 200px;
    margin-bottom: 20px;
    background: #f8fafc;
    border-radius: 8px;
    padding: 10px;
}

/* Controles do gráfico de validação */
.grafico-controles {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin-bottom: 10px;
    padding: 10px 12px;
    background: #f1f5f9;
    border-radius: 8px;
    align-items: center;
}

.grafico-controles-titulo {
    font-size: 11px;
    font-weight: 600;
    color: #64748b;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-right: 8px;
}


.grafico-controle-item {
    display: flex;
    align-items: center;
    gap: 6px;
    cursor: pointer;
    padding: 4px 10px;
    background: white;
    border-radius: 6px;
    border: 1px solid #e2e8f0;
    transition: all 0.2s;
    user-select: none;
}

.grafico-controle-item:hover {
    border-color: #94a3b8;
    background: #f8fafc;
}

.grafico-controle-item input[type="checkbox"] {
    width: 14px;
    height: 14px;
    cursor: pointer;
    accent-color: #3b82f6;
}

.grafico-controle-item .controle-cor {
    width: 12px;
    height: 12px;
    border-radius: 3px;
    flex-shrink: 0;
}

.grafico-controle-item .controle-cor.media {
    background: #dc2626;
}

.grafico-controle-item .controle-cor.minmax {
    background: linear-gradient(to bottom, #1e3a5f 0%, #1e3a5f 40%, transparent 40%, transparent 60%, #1e3a5f 60%, #1e3a5f 100%);
}

.grafico-controle-item .controle-cor.sugeridos {
    background: repeating-linear-gradient(90deg, #16a34a, #16a34a 4px, transparent 4px, transparent 8px);
}

.grafico-controle-item .controle-cor.excluidos {
    background: repeating-linear-gradient(90deg, #f97316, #f97316 3px, transparent 3px, transparent 6px);
}

.controle-cor.mediadiaria {
    background: #8b5cf6;
}

/* Legenda TensorFlow com listra (padrão tracejado igual ao sugeridos) */
.controle-cor.tensorflow {
    background: repeating-linear-gradient(90deg, #ef4444, #fffbeb 4px, transparent 4px, transparent 8px);
}

.grafico-controle-item .controle-label {
    font-size: 12px;
    color: #334155;
    font-weight: 500;
}

.controle-cor.interpolacao {
    background: #8b5cf6;
}

.controle-cor.tendencia-rede {
    background: #06b6d4;
}

.controle-cor.proporcao {
    background: #d946ef;
}

.controle-cor.mini-quad {
    background: #f59e0b;
}

.validacao-tabela-container {
    margin-bottom: 20px;
    overflow-x: auto;
    width: 100%;
    box-sizing: border-box;
}

.validacao-tabela {
    width: 100%;
    border-collapse: collapse;
    font-size: 13px;
    table-layout: auto;
}

.validacao-tabela th {
    background: #f1f5f9;
    padding: 10px 8px;
    text-align: center;
    border: 1px solid #e2e8f0;
    font-weight: 600;
    color: #334155;
}

.validacao-tabela td {
    padding: 8px;
    text-align: center;
    border: 1px solid #e2e8f0;
}

.validacao-tabela tr:hover {
    background: #f8fafc;
}

.validacao-tabela tr.selecionada {
    background: #dbeafe;
    border-color: #3b82f6;
}

.validacao-tabela tr.selecionada td {
    border-color: #93c5fd;
}

.validacao-tabela .hora-col {
    font-weight: 600;
    background: #f8fafc;
    width: 60px;
}

.validacao-tabela .btn-selecionar {
    background: #3b82f6;
    color: white;
    border: none;
    padding: 4px 10px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 11px;
}

.validacao-tabela .btn-selecionar:hover {
    background: #2563eb;
}

.validacao-tabela .btn-selecionar.selecionado {
    background: #16a34a;
}

.validacao-form {
    background: #f8fafc;
    border-radius: 8px;
    padding: 16px;
    margin-top: 16px;
    box-sizing: border-box;
    overflow: hidden;
    width: 100%;
}

.validacao-form h4 {
    margin: 0 0 12px 0;
    font-size: 14px;
    color: #1e3a5f;
}

.validacao-form-row {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
    width: 100%;
    box-sizing: border-box;
}

.validacao-form-group {
    flex: 1;
    min-width: 100px;
    max-width: 100%;
    box-sizing: border-box;
}

.validacao-form-group label {
    display: block;
    font-size: 12px;
    font-weight: 600;
    color: #64748b;
    margin-bottom: 4px;
}

.validacao-form-group input,
.validacao-form-group textarea {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid #e2e8f0;
    border-radius: 6px;
    font-size: 13px;
    box-sizing: border-box;
    max-width: 100%;
}

.validacao-form-group textarea {
    resize: vertical;
    min-height: 40px;
    max-width: 100%;
}

.validacao-form-group input:focus,
.validacao-form-group textarea:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.validacao-form-group input:disabled {
    background: #e2e8f0;
    color: #64748b;
}

.modal-validacao-footer {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    gap: 12px;
    padding: 16px 20px;
    border-top: 1px solid #e2e8f0;
    background: #f8fafc;
}

.modal-validacao-footer .footer-spacer {
    flex: 1;
}

.modal-validacao-footer .btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 10px 20px;
    border-radius: 6px;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    border: none;
    transition: all 0.2s;
}

.modal-validacao-footer .btn-sugerir {
    background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
    color: white;
}

.modal-validacao-footer .btn-sugerir:hover {
    background: linear-gradient(135deg, #7c3aed 0%, #4f46e5 100%);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.modal-validacao-footer .btn-sugerir:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

.modal-validacao-footer .btn-cancelar {
    background: #e2e8f0;
    color: #64748b;
}

.modal-validacao-footer .btn-cancelar:hover {
    background: #cbd5e1;
}

.modal-validacao-footer .btn-salvar {
    background: #16a34a;
    color: white;
}

.modal-validacao-footer .btn-salvar:hover {
    background: #15803d;
}

.modal-validacao-footer .btn-salvar:disabled {
    background: #9ca3af;
    cursor: not-allowed;
}

/* Indicador de célula clicável */
.tabela-dados td.valor-entrada,
.tabela-dados td.valor-saida {
    cursor: pointer;
    transition: all 0.15s;
}

.tabela-dados td.valor-entrada:hover,
.tabela-dados td.valor-saida:hover {
    background: rgba(59, 130, 246, 0.1) !important;
    box-shadow: inset 0 0 0 2px #3b82f6;
}

.tabela-dados td.sem-dados {
    cursor: pointer;
    color: #94a3b8;
}

.tabela-dados td.sem-dados:hover {
    background: rgba(59, 130, 246, 0.1) !important;
    box-shadow: inset 0 0 0 2px #3b82f6;
    color: #3b82f6;
}

.tabela-dados tfoot {
    background: #f8fafc;
    border-top: 2px solid #e2e8f0;
}

.tabela-dados tfoot tr {
    border-bottom: 1px solid #e2e8f0;
}

.tabela-dados tfoot td {
    padding: 8px;
    text-align: center;
    font-size: 12px;
    color: #64748b;
    font-weight: 500;
    border: 1px solid #e2e8f0;
}

.tabela-dados tfoot td.dia-col {
    background: #f1f5f9;
    font-weight: 600;
    color: #334155;
}

.tabela-dados tfoot .stat-label {
    display: block;
    font-size: 11px;
    color: #94a3b8;
    margin-bottom: 2px;
}

.validacao-info {
    background: #fef3c7;
    border: 1px solid #f59e0b;
    border-radius: 6px;
    padding: 10px 14px;
    margin-bottom: 16px;
    font-size: 12px;
    color: #92400e;
}

.validacao-info ion-icon {
    vertical-align: middle;
    margin-right: 6px;
}

.validacao-legenda {
    display: flex;
    gap: 20px;
    margin-bottom: 12px;
    font-size: 12px;
    color: #64748b;
}

.validacao-legenda .legenda-item {
    display: flex;
    align-items: center;
    gap: 6px;
}

.validacao-legenda .legenda-cor {
    display: inline-block;
    width: 12px;
    height: 12px;
    border-radius: 50%;
}

.validacao-resumo {
    display: flex;
    gap: 20px;
    margin-bottom: 16px;
    padding: 12px 16px;
    background: #f8fafc;
    border-radius: 8px;
    border: 1px solid #e2e8f0;
}

.validacao-resumo .resumo-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex: 1;
    padding: 8px;
    background: #fff;
    border-radius: 6px;
    border: 1px solid #e2e8f0;
}

.validacao-resumo .resumo-label {
    font-size: 11px;
    color: #64748b;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 4px;
}

.validacao-resumo .resumo-valor {
    font-size: 18px;
    font-weight: 600;
    color: #1e293b;
}

.validacao-resumo .resumo-item:first-child .resumo-valor {
    color: #2563eb;
}

.validacao-resumo .resumo-item:nth-child(2) .resumo-valor {
    color: #16a34a;
}

.validacao-resumo .resumo-item:last-child .resumo-valor {
    color: #dc2626;
}

/* Modo somente leitura para medidor de pressão */
.validacao-tabela.somente-leitura input[type="checkbox"] {
    display: none;
}

.validacao-tabela.somente-leitura th:first-child label {
    justify-content: flex-start;
    padding-left: 8px;
}

.validacao-tabela.somente-leitura .hora-col label {
    padding-left: 8px;
}

.btn-acao-rapida {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 14px;
    background: #e2e8f0;
    border: 1px solid #cbd5e1;
    border-radius: 6px;
    font-size: 12px;
    color: #475569;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-acao-rapida:hover {
    background: #cbd5e1;
    border-color: #94a3b8;
}

.btn-acao-rapida ion-icon {
    font-size: 14px;
}

.validacao-tabela input[type="checkbox"] {
    width: 16px;
    height: 16px;
    cursor: pointer;
    accent-color: #3b82f6;
}

.validacao-tabela .hora-col label {
    margin: 0;
    font-weight: 600;
}

.validacao-tabela tr.tratado {
    background: rgba(59, 130, 246, 0.08);
}

.validacao-tabela tr.tratado:hover {
    background: rgba(59, 130, 246, 0.15);
}

.badge-tratado {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 18px;
    height: 18px;
    background: #3b82f6;
    color: #fff;
    border-radius: 50%;
    font-size: 10px;
    font-weight: bold;
    margin-left: 4px;
}

/* Radio buttons para formulário de validação - mesmo estilo de Mês/Datas */
.radio-group-validacao {
    display: flex;
    gap: 4px;
    background: #f1f5f9;
    padding: 4px;
    border-radius: 10px;
    width: fit-content;
}

.radio-item-validacao {
    display: flex;
    align-items: center;
    cursor: pointer;
    margin: 0;
}

.radio-item-validacao input[type="radio"] {
    display: none;
}

.radio-item-validacao .radio-label {
    padding: 8px 20px;
    font-size: 13px;
    font-weight: 500;
    color: #64748b;
    border-radius: 8px;
    transition: all 0.2s ease;
    white-space: nowrap;
}

.radio-item-validacao input[type="radio"]:checked+.radio-label {
    background: white;
    color: #1e293b;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.radio-item-validacao:hover .radio-label {
    color: #1e293b;
}

/* Resumo para tipo 6 (sem média, com total extravasou) */
.validacao-resumo .resumo-item.extravasou .resumo-valor {
    color: #dc2626;
}

/* Painel de Análise com IA */
.ia-panel {
    background: linear-gradient(135deg, #eff6ff 0%, #f0fdf4 100%);
    border: 1px solid #bfdbfe;
    border-radius: 12px;
    padding: 16px;
    margin-top: 16px;
    box-sizing: border-box;
    width: 100%;
    overflow: hidden;
}

.ia-panel-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
}

.ia-panel-title {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 600;
    color: #1e40af;
    font-size: 14px;
}

.ia-panel-title ion-icon {
    font-size: 20px;
}

/* Chat com IA no modal de validação */
.ia-chat-container {
    margin-top: 16px;
    border-top: 1px solid #e2e8f0;
    padding-top: 16px;
    box-sizing: border-box;
    width: 100%;
}

.ia-chat-titulo {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    font-weight: 600;
    color: #475569;
    margin-bottom: 12px;
}

.ia-chat-titulo ion-icon {
    color: #8b5cf6;
}

.ia-chat-mensagens {
    max-height: 200px;
    overflow-y: auto;
    overflow-x: hidden;
    background: #f8fafc;
    border-radius: 8px;
    padding: 12px;
    margin-bottom: 12px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    box-sizing: border-box;
    width: 100%;
}

.ia-chat-mensagens:empty {
    display: none;
}

.ia-chat-msg {
    display: flex;
    gap: 8px;
    max-width: 90%;
    box-sizing: border-box;
    align-items: flex-start;
}

.ia-chat-msg.user {
    align-self: flex-end;
    flex-direction: row-reverse;
}

.ia-chat-msg.ia {
    align-self: stretch;
    width: 100%;
    max-width: 100%;
    align-items: flex-start;
}

.ia-chat-avatar {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    font-size: 14px;
}

.ia-chat-msg.user .ia-chat-avatar {
    background: #3b82f6;
    color: white;
}

.ia-chat-msg.ia .ia-chat-avatar {
    background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
    color: white;
}

.ia-chat-bubble {
    padding: 10px 12px;
    border-radius: 12px;
    font-size: 13px;
    line-height: 1.4;
    word-wrap: break-word;
    overflow-wrap: anywhere;
    word-break: break-word;
    max-width: 100%;
    min-width: 0;
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    white-space: pre-wrap;
    /* ADICIONAR: preserva quebras de linha */
}

.ia-chat-msg.user .ia-chat-bubble {
    background: #3b82f6;
    color: white;
    border-bottom-right-radius: 4px;
    flex: 0 1 auto;
}

.ia-chat-msg.ia .ia-chat-bubble {
    background: white;
    color: #334155;
    border: 1px solid #e2e8f0;
    border-bottom-left-radius: 4px;
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
}

.ia-chat-input-container {
    display: flex;
    gap: 8px;
    width: 100%;
    box-sizing: border-box;
}

.ia-chat-input {
    flex: 1;
    min-width: 0;
    padding: 10px 12px;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    font-size: 13px;
    outline: none;
    transition: border-color 0.2s;
    box-sizing: border-box;
    min-height: 40px;
    max-height: 120px;
    resize: vertical;
    font-family: inherit;
}

.ia-chat-input:focus {
    border-color: #8b5cf6;
}

.ia-chat-input::placeholder {
    color: #94a3b8;
}

.btn-enviar-chat {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-enviar-chat:hover {
    transform: scale(1.05);
}

.btn-enviar-chat:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

.btn-enviar-chat ion-icon {
    font-size: 18px;
}

.ia-chat-typing {
    display: flex;
    gap: 4px;
    padding: 8px;
}

.ia-chat-typing span {
    width: 6px;
    height: 6px;
    background: #94a3b8;
    border-radius: 50%;
    animation: chatTyping 1.4s infinite ease-in-out;
}

.ia-chat-typing span:nth-child(2) {
    animation-delay: 0.2s;
}

.ia-chat-typing span:nth-child(3) {
    animation-delay: 0.4s;
}

@keyframes chatTyping {

    0%,
    60%,
    100% {
        transform: translateY(0);
    }

    30% {
        transform: translateY(-4px);
    }
}

.ia-chat-sugestoes {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-bottom: 12px;
    width: 100%;
    box-sizing: border-box;
}

.ia-chat-sugestao {
    padding: 6px 10px;
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 16px;
    font-size: 11px;
    color: #64748b;
    cursor: pointer;
    transition: all 0.2s;
    white-space: nowrap;
}

.ia-chat-sugestao:hover {
    border-color: #8b5cf6;
    color: #8b5cf6;
    background: #faf5ff;
}

/* Botão sugerir valores */
.btn-sugerir-valores {
    background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%) !important;
    color: white !important;
    border: none !important;
}

.btn-sugerir-valores:hover {
    background: linear-gradient(135deg, #7c3aed 0%, #4f46e5 100%) !important;
}

/* Container de valores sugeridos */
.valores-sugeridos-container {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    border: 1px solid #f59e0b;
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 16px;
    box-sizing: border-box;
}

.valores-sugeridos-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
    flex-wrap: wrap;
    gap: 8px;
}

.valores-sugeridos-header h4 {
    display: flex;
    align-items: center;
    gap: 8px;
    margin: 0;
    color: #92400e;
    font-size: 14px;
}

.valores-sugeridos-info {
    font-size: 12px;
    color: #b45309;
    background: rgba(255, 255, 255, 0.7);
    padding: 4px 10px;
    border-radius: 12px;
}

.valores-sugeridos-tabela-wrapper {
    background: white;
    border-radius: 8px;
    overflow-x: auto;
    margin-bottom: 12px;
}

.valores-sugeridos-tabela {
    width: 100%;
    border-collapse: collapse;
    font-size: 13px;
}

.valores-sugeridos-tabela th {
    background: #fef3c7;
    padding: 10px 12px;
    text-align: center;
    border: 1px solid #fcd34d;
    font-weight: 600;
    color: #92400e;
    white-space: nowrap;
}

.valores-sugeridos-tabela td {
    padding: 8px 12px;
    text-align: center;
    border: 1px solid #fde68a;
}

.valores-sugeridos-tabela tr:hover {
    background: #fffbeb;
}

.valores-sugeridos-tabela .valor-sugerido {
    font-weight: 600;
    color: #059669;
    background: #d1fae5;
}

.valores-sugeridos-acoes {
    display: flex;
    gap: 10px;
    justify-content: flex-end;
    flex-wrap: wrap;
}

.btn-aplicar-sugeridos {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 10px 20px;
    background: linear-gradient(135deg, #059669 0%, #047857 100%);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-aplicar-sugeridos:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(5, 150, 105, 0.4);
}

.btn-aplicar-sugeridos:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.btn-cancelar-sugeridos {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 10px 20px;
    background: #f1f5f9;
    color: #64748b;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-cancelar-sugeridos:hover {
    background: #e2e8f0;
    color: #475569;
}

/* Botões de aplicar valores IA */
.ia-valores-aplicar {
    margin-top: 12px;
    padding: 12px;
    background: #f0fdf4;
    border: 1px solid #bbf7d0;
    border-radius: 8px;
}

.btn-aplicar-valores-ia {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 8px 16px;
    background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-aplicar-valores-ia:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(34, 197, 94, 0.4);
}

.btn-aplicar-valores-ia:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.btn-cancelar-valores-ia {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 8px 16px;
    background: #f1f5f9;
    color: #64748b;
    border: 1px solid #e2e8f0;
    border-radius: 6px;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-cancelar-valores-ia:hover {
    background: #fee2e2;
    border-color: #fecaca;
    color: #991b1b;
}

.btn-cancelar-valores-ia:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.tabela-dados th.header-dia {
    background: #f8fafc;
    text-align: center;
    width: 50px;
}

.tabela-dados td {
    padding: 10px 14px;
    border: 1px solid #e2e8f0;
    color: #334155;
    text-align: center;
}

.tabela-dados td.dia-col {
    text-align: center;
    font-weight: 600;
    background: #f8fafc;
    white-space: nowrap;
    width: 50px;
}

.tabela-dados td.valor-entrada {
    background: rgba(22, 163, 74, 0.05);
}

.tabela-dados td.valor-saida {
    background: rgba(220, 38, 38, 0.05);
}

.tabela-dados td.valor-resultado {
    background: #f8fafc;
    font-weight: 600;
    min-width: 100px;
}

.tabela-dados td.valor-subtotal {
    font-weight: 600;
    min-width: 90px;
}

.tabela-dados td.valor-subtotal.entrada {
    background: rgba(22, 163, 74, 0.08);
}

.tabela-dados td.valor-subtotal.entrada.positivo {
    background: rgba(22, 163, 74, 0.15);
    color: #16a34a;
}

.tabela-dados td.valor-subtotal.entrada.negativo {
    background: rgba(220, 38, 38, 0.1);
    color: #dc2626;
}

.tabela-dados td.valor-subtotal.saida {
    background: rgba(220, 38, 38, 0.08);
}

.tabela-dados td.valor-subtotal.saida.positivo {
    background: rgba(22, 163, 74, 0.1);
    color: #16a34a;
}

.tabela-dados td.valor-subtotal.saida.negativo {
    background: rgba(220, 38, 38, 0.15);
    color: #dc2626;
}

.tabela-dados td.valor-resultado.positivo {
    background: rgba(22, 163, 74, 0.1);
    color: #16a34a;
}

.tabela-dados td.valor-resultado.negativo {
    background: rgba(220, 38, 38, 0.1);
    color: #dc2626;
}

.tabela-dados td.incompleto {
    background: rgba(251, 146, 60, 0.25) !important;
    position: relative;
}

.tabela-dados td.incompleto::after {
    content: '';
    position: absolute;
    top: 3px;
    right: 3px;
    width: 6px;
    height: 6px;
    background: #f97316;
    border-radius: 50%;
}

.tabela-dados td.tratado {
    background: rgba(59, 130, 246, 0.2) !important;
    position: relative;
}

.tabela-dados td.tratado::before {
    content: '';
    position: absolute;
    top: 3px;
    right: 3px;
    width: 6px;
    height: 6px;
    background: #3b82f6;
    border-radius: 50%;
}

/* Nível crítico (>= 100%) para medidores de nível */
.tabela-dados td.nivel-critico {
    background: rgba(239, 68, 68, 0.25) !important;
}

/* Quando tem ambos, fundo azul (tratado tem prioridade) com bolinhas lado a lado */
.tabela-dados td.incompleto.tratado {
    background: rgba(59, 130, 246, 0.2) !important;
}

.tabela-dados td.incompleto.tratado::after {
    right: 12px;
}

.tabela-dados td.incompleto.tratado::before {
    right: 3px;
}

.tabela-dados tbody tr:hover td {
    background: #eff6ff;
}

.tabela-dados tbody tr:hover td.dia-col {
    background: #dbeafe;
}

.tabela-dados tbody tr:hover td.valor-resultado.positivo {
    background: rgba(22, 163, 74, 0.15);
}

.tabela-dados tbody tr:hover td.valor-resultado.negativo {
    background: rgba(220, 38, 38, 0.15);
}

.tabela-dados tbody tr:hover td.valor-subtotal.entrada {
    background: rgba(22, 163, 74, 0.2);
}

.tabela-dados tbody tr:hover td.valor-subtotal.saida {
    background: rgba(220, 38, 38, 0.2);
}

.tabela-dados .sem-dados {
    color: #94a3b8;
    font-style: italic;
}

/* Legenda da tabela */
.legenda-tabela {
    margin-top: 20px;
    padding: 16px 20px;
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
}

.legenda-titulo {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    font-weight: 600;
    color: #334155;
    margin-bottom: 12px;
}

.legenda-titulo ion-icon {
    font-size: 18px;
    color: #64748b;
}

.legenda-itens {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin-bottom: 12px;
}

.legenda-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 12px;
    color: #475569;
}

.legenda-cor {
    width: 20px;
    height: 20px;
    border-radius: 4px;
    border: 1px solid #e2e8f0;
}

.legenda-cor.incompleto {
    background: rgba(251, 146, 60, 0.25);
    position: relative;
}

.legenda-cor.incompleto::after {
    content: '';
    position: absolute;
    top: 2px;
    right: 2px;
    width: 5px;
    height: 5px;
    background: #f97316;
    border-radius: 50%;
}

.legenda-cor.tratado {
    background: rgba(59, 130, 246, 0.2);
    position: relative;
}

.legenda-cor.tratado::before {
    content: '';
    position: absolute;
    top: 2px;
    right: 2px;
    width: 5px;
    height: 5px;
    background: #3b82f6;
    border-radius: 50%;
}

.legenda-cor.nivel-critico {
    background: rgba(239, 68, 68, 0.25);
}

.legenda-icone {
    font-size: 16px;
    font-weight: bold;
}

.legenda-icone.soma {
    color: #16a34a;
}

.legenda-icone.subtracao {
    color: #dc2626;
}

.legenda-info {
    font-size: 12px;
    color: #64748b;
    line-height: 1.5;
    padding-top: 12px;
    border-top: 1px solid #e2e8f0;
}

.legenda-info strong {
    color: #334155;
}

/* Empty state */
.empty-state {
    text-align: center;
    padding: 60px 20px;
    color: #64748b;
}

.empty-state ion-icon {
    font-size: 64px;
    color: #cbd5e1;
    margin-bottom: 16px;
}

.empty-state h3 {
    font-size: 18px;
    font-weight: 600;
    color: #475569;
    margin: 0 0 8px 0;
}

.empty-state p {
    font-size: 14px;
    margin: 0;
}

/* Loading */
.loading-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 255, 255, 0.8);
    z-index: 1000;
    align-items: center;
    justify-content: center;
}

.loading-overlay.active {
    display: flex;
}

.loading-spinner {
    width: 48px;
    height: 48px;
    border: 4px solid #e2e8f0;
    border-top-color: #1e3a5f;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* Tabs para alternar entre gráfico e tabela */
.resultado-tabs {
    display: flex;
    gap: 4px;
    background: #f1f5f9;
    padding: 4px;
    border-radius: 8px;
    margin-bottom: 20px;
    width: fit-content;
}

.resultado-tab {
    padding: 8px 16px;
    border: none;
    background: transparent;
    border-radius: 6px;
    font-size: 13px;
    font-weight: 500;
    color: #64748b;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 6px;
}

.resultado-tab:hover {
    color: #1e3a5f;
}

.resultado-tab.active {
    background: white;
    color: #1e3a5f;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}

/* Resumo */
.resumo-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 16px;
    margin-bottom: 24px;
}

.resumo-card {
    background: #f8fafc;
    border-radius: 10px;
    padding: 16px;
    text-align: center;
}

.resumo-card-label {
    font-size: 11px;
    font-weight: 600;
    color: #64748b;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 4px;
}

.resumo-card-value {
    font-size: 24px;
    font-weight: 700;
    color: #1e3a5f;
}

.resumo-card-unit {
    font-size: 12px;
    color: #64748b;
}

@media (max-width: 1400px) {
    .filtros-grid {
        grid-template-columns: 1fr 1fr 1fr;
    }

    .filtros-grid.modo-datas {
        grid-template-columns: 1fr 1fr 1fr;
    }
}

@media (max-width: 900px) {
    .filtros-grid {
        grid-template-columns: 1fr 1fr;
    }

    .filtros-grid.modo-datas {
        grid-template-columns: 1fr 1fr;
    }
}

/* ============================================
   CORREÇÕES MOBILE - OVERFLOW FILTROS
   Adicionar ao final do operacoes.css
   ============================================ */

/* Correção global para filtros no mobile */
@media (max-width: 768px) {

    /* Garante que o card de filtros não extrapole */
    .filtros-card {
        overflow: hidden;
        width: 100%;
        max-width: 100%;
    }

    /* Força largura máxima nos form-groups */
    .form-group {
        width: 100% !important;
        max-width: 100% !important;
        min-width: 0 !important;
        overflow: hidden;
    }

    /* Choices.js - Container principal */
    .choices {
        width: 100% !important;
        max-width: 100% !important;
        min-width: 0 !important;
    }

    /* Choices.js - Inner container */
    .choices__inner {
        width: 100% !important;
        max-width: 100% !important;
        min-width: 0 !important;
        overflow: hidden;
    }

    /* Choices.js - Lista single */
    .choices__list--single {
        width: 100% !important;
        max-width: 100% !important;
        min-width: 0 !important;
        overflow: hidden;
    }

    /* Choices.js - Item selecionado - CRÍTICO para truncar texto */
    .choices__list--single .choices__item {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* Choices.js - Item selecionável */
    .choices__item--selectable {
        white-space: nowrap !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
    }

    /* Select nativo - fallback */
    select.form-control,
    .form-control {
        width: 100% !important;
        max-width: 100% !important;
        min-width: 0 !important;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* Input de busca de ponto */
    .autocomplete-container {
        width: 100% !important;
        max-width: 100% !important;
    }

    .autocomplete-container input {
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box;
    }

    /* Seletor de mês com navegação */
    .month-selector {
        width: 100% !important;
        max-width: 100% !important;
        overflow: hidden;
    }

    .month-selector select {
        flex: 1;
        min-width: 0 !important;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* Grid de filtros - força coluna única */
    .filtros-grid {
        display: grid !important;
        grid-template-columns: 1fr !important;
        gap: 16px;
        width: 100% !important;
        max-width: 100% !important;
    }

    /* Cada item da grid */
    .filtros-grid>* {
        width: 100% !important;
        max-width: 100% !important;
        min-width: 0 !important;
    }
}

/* Correções específicas para telas muito pequenas */
@media (max-width: 480px) {

    /* Reduz padding para dar mais espaço ao conteúdo */
    .filtros-card {
        padding: 12px !important;
    }

    .form-group {
        margin-bottom: 12px;
    }

    /* Choices.js - fonte menor em telas muito pequenas */
    .choices__inner {
        font-size: 12px !important;
        padding: 6px 10px !important;
        min-height: 40px !important;
    }

    .choices__list--single .choices__item {
        font-size: 12px !important;
    }

    /* Labels menores */
    .form-label {
        font-size: 11px !important;
    }

    /* Botões de ação ocupam largura total */
    .filtros-actions {
        flex-direction: column !important;
        gap: 8px !important;
    }

    .filtros-actions button {
        width: 100% !important;
        justify-content: center !important;
    }
}


/*
/* Bolinhas de completude coloridas */
/* Bolinha verde: >= 80% dos dados */
.tabela-dados td.incompleto.nivel-verde::after {
    background: #22c55e !important;
    box-shadow: 0 0 4px rgba(34, 197, 94, 0.5);
}

/* Bolinha amarela: >= 50% e < 80% dos dados */
.tabela-dados td.incompleto.nivel-amarelo::after {
    background: #eab308 !important;
    box-shadow: 0 0 4px rgba(234, 179, 8, 0.5);
}

/* Bolinha vermelha: < 50% dos dados */
.tabela-dados td.incompleto.nivel-vermelho::after {
    background: #ef4444 !important;
    box-shadow: 0 0 4px rgba(239, 68, 68, 0.5);
}

/* Legenda - novas classes */
.legenda-cor.incompleto.nivel-verde::after {
    background: #22c55e !important;
}

.legenda-cor.incompleto.nivel-amarelo::after {
    background: #eab308 !important;
}

.legenda-cor.incompleto.nivel-vermelho::after {
    background: #ef4444 !important;
}

/* Verde: >= 80% dos dados (48+ registros de 60) */
#validacaoTabelaBody tr.completude-verde {
    background: rgba(34, 197, 94, 0.15) !important;
}

#validacaoTabelaBody tr.completude-verde:hover {
    background: rgba(34, 197, 94, 0.25) !important;
}

#validacaoTabelaBody tr.completude-verde.selecionada {
    background: rgba(34, 197, 94, 0.35) !important;
}

/* Amarelo: >= 50% e < 80% dos dados (30-47 registros de 60) */
#validacaoTabelaBody tr.completude-amarelo {
    background: rgba(234, 179, 8, 0.15) !important;
}

#validacaoTabelaBody tr.completude-amarelo:hover {
    background: rgba(234, 179, 8, 0.25) !important;
}

#validacaoTabelaBody tr.completude-amarelo.selecionada {
    background: rgba(234, 179, 8, 0.35) !important;
}

/* Vermelho: < 50% dos dados (< 30 registros de 60) */
#validacaoTabelaBody tr.completude-vermelho {
    background: rgba(239, 68, 68, 0.15) !important;
}

#validacaoTabelaBody tr.completude-vermelho:hover {
    background: rgba(239, 68, 68, 0.25) !important;
}

#validacaoTabelaBody tr.completude-vermelho.selecionada {
    background: rgba(239, 68, 68, 0.35) !important;
}

/* Manter prioridade do estado "tratado" (azul) */
#validacaoTabelaBody tr.tratado {
    background: rgba(59, 130, 246, 0.1) !important;
}

#validacaoTabelaBody tr.tratado:hover {
    background: rgba(59, 130, 246, 0.2) !important;
}

#validacaoTabelaBody tr.tratado.selecionada {
    background: rgba(59, 130, 246, 0.3) !important;
}

/* Combinar completude com tratado - mostrar borda colorida à esquerda */
#validacaoTabelaBody tr.tratado.completude-verde {
    border-left: 3px solid #22c55e;
}

#validacaoTabelaBody tr.tratado.completude-amarelo {
    border-left: 3px solid #eab308;
}

#validacaoTabelaBody tr.tratado.completude-vermelho {
    border-left: 3px solid #ef4444;
}

/* Indicador de dados do Historiador CCO */
.grafico-controle-item .controle-cor.historiador {
    background: #06b6d4;
}

.indicador-historiador {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
    color: white;
    border-radius: 6px;
    font-size: 12px;
    margin-bottom: 10px;
    box-shadow: 0 2px 4px rgba(6, 182, 212, 0.3);
}

.indicador-historiador ion-icon {
    font-size: 16px;
    animation: pulse-icon 1.5s ease-in-out infinite;
}

.indicador-historiador strong {
    font-family: 'Consolas', 'Monaco', monospace;
    background: rgba(255, 255, 255, 0.2);
    padding: 2px 6px;
    border-radius: 3px;
}

@keyframes pulse-icon {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.5;
    }
}

/* ============================================
   CORREÇÃO COMPLETA - PADRONIZAÇÃO DOS FILTROS
   Border-radius 10px + Altura 40px em todos os campos
   
   Adicionar ao FINAL do operacoes.css
   ============================================ */

/* ===== CHOICES.JS - PADRONIZAÇÃO ===== */

/* Container interno - altura e border-radius */
.choices__inner,
.choices .choices__inner,
.choices[data-type*="select-one"] .choices__inner,
.choices[data-type*="select-multiple"] .choices__inner {
    min-height: 40px !important;
    height: 40px !important;
    padding: 6px 12px !important;
    border-radius: 10px !important;
    display: flex !important;
    align-items: center !important;
}

/* Lista single dentro do inner */
.choices__list--single {
    padding: 0 16px 0 4px !important;
    display: flex !important;
    align-items: center !important;
}

/* Item selecionado */
.choices__list--single .choices__item {
    display: block !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
}

/* Dropdown do Choices.js */
.choices__list--dropdown,
.choices .choices__list--dropdown {
    border-radius: 10px !important;
}

/* Campo de busca dentro do dropdown */
.choices__input,
.choices[data-type*="select-one"] .choices__input {
    border-radius: 8px !important;
}

/* Seta do dropdown - centralizada */
.choices[data-type*="select-one"]::after {
    top: 50% !important;
    transform: translateY(-50%) !important;
    margin-top: 0 !important;
}

/* ===== INPUTS PADRÃO - PADRONIZAÇÃO ===== */

/* Input padrão - Ponto de Medição e outros */
.form-control,
input.form-control,
select.form-control,
.autocomplete-container input.form-control {
    height: 40px !important;
    min-height: 40px !important;
    padding: 8px 12px !important;
    border-radius: 10px !important;
    box-sizing: border-box !important;
}

/* Autocomplete dropdown - arredondado embaixo */
.autocomplete-dropdown {
    border-radius: 0 0 10px 10px !important;
}

/* ===== SELETOR DE MÊS - PADRONIZAÇÃO ===== */

.month-selector select {
    height: 40px !important;
    min-height: 40px !important;
    border-radius: 10px !important;
}

.month-selector button {
    height: 40px !important;
    min-height: 40px !important;
    width: 40px !important;
    border-radius: 10px !important;
}

/* ===== SELECT DE ANO - PADRONIZAÇÃO ===== */

select#selectAno,
.form-group select {
    height: 40px !important;
    min-height: 40px !important;
    border-radius: 10px !important;
}

/* ===== Z-INDEX E OVERFLOW - GERAL ===== */

/* Filtros card SEMPRE visível para dropdowns */
.filtros-card {
    overflow: visible !important;
    position: relative;
}

.filtros-grid {
    overflow: visible !important;
}

/* Form groups precisam permitir overflow */
.form-group {
    overflow: visible !important;
    position: relative;
}

/* ===== CHOICES.JS - Z-INDEX ===== */

.choices {
    position: relative;
    z-index: 1;
}

.choices.is-open {
    z-index: 100 !important;
}

.choices__list--dropdown {
    z-index: 100 !important;
}

/* ===== AUTOCOMPLETE PONTO DE MEDIÇÃO ===== */

.autocomplete-container {
    position: relative !important;
    z-index: 50;
}

.autocomplete-container:focus-within {
    z-index: 200 !important;
}

.autocomplete-dropdown {
    position: absolute !important;
    top: 100% !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 200 !important;
    background: white !important;
    border: 1px solid #e2e8f0 !important;
    border-top: none !important;
    max-height: 250px !important;
    overflow-y: auto !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

.autocomplete-dropdown.active {
    display: block !important;
}

/* ===== MOBILE - CORREÇÕES ESPECÍFICAS ===== */

@media (max-width: 768px) {

    /* Container principal não pode cortar nada */
    .operacoes-container {
        overflow: visible !important;
    }

    /* Filtros card */
    .filtros-card {
        overflow: visible !important;
        position: relative !important;
        z-index: 10 !important;
    }

    /* Grid de filtros */
    .filtros-grid {
        overflow: visible !important;
        position: relative !important;
    }

    /* Cada form-group - z-index decresce de cima para baixo */
    .form-group {
        position: relative !important;
        overflow: visible !important;
    }

    /* Primeiro form-group (Tipo de Unidade) */
    .filtros-grid>.form-group:nth-child(1) {
        z-index: 50 !important;
    }

    /* Segundo form-group (Unidade Operacional) */
    .filtros-grid>.form-group:nth-child(2) {
        z-index: 40 !important;
    }

    /* Terceiro form-group (Ponto de Medição) */
    .filtros-grid>.form-group:nth-child(3) {
        z-index: 30 !important;
    }

    /* Quarto form-group (Ano) */
    .filtros-grid>.form-group:nth-child(4) {
        z-index: 20 !important;
    }

    /* Quinto form-group (Mês) */
    .filtros-grid>.form-group:nth-child(5) {
        z-index: 10 !important;
    }

    /* Form-group com foco fica na frente de TUDO */
    .form-group:focus-within {
        z-index: 9999 !important;
    }

    /* Choices.js no mobile */
    .choices {
        position: relative !important;
    }

    .choices.is-open {
        z-index: 9999 !important;
    }

    .choices__list--dropdown {
        position: absolute !important;
        z-index: 10000 !important;
        width: 100% !important;
        max-width: 100% !important;
    }

    /* ===== AUTOCOMPLETE PONTO DE MEDIÇÃO - MOBILE ===== */

    .autocomplete-container {
        position: relative !important;
    }

    .autocomplete-container:focus-within {
        z-index: 9999 !important;
    }

    /* Input do autocomplete */
    .autocomplete-container input {
        -webkit-appearance: none !important;
        appearance: none !important;
    }

    /* Dropdown do autocomplete */
    .autocomplete-dropdown {
        position: absolute !important;
        top: 100% !important;
        left: 0 !important;
        right: 0 !important;
        z-index: 10000 !important;
        width: 100% !important;
        display: none;
        background: white !important;
        border: 1px solid #e2e8f0 !important;
        border-top: none !important;
        border-radius: 0 0 10px 10px !important;
        max-height: 200px !important;
        overflow-y: auto !important;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
        -webkit-overflow-scrolling: touch;
    }

    /* Garante que dropdown ativo apareça */
    .autocomplete-dropdown.active {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
    }

    /* Itens do autocomplete - área de toque maior */
    .autocomplete-dropdown .autocomplete-item {
        padding: 14px 12px !important;
        min-height: 48px !important;
        display: flex !important;
        flex-direction: column !important;
        justify-content: center !important;
        cursor: pointer !important;
        -webkit-tap-highlight-color: rgba(59, 130, 246, 0.2);
    }

    /* Truncar textos longos nos campos */
    .choices__list--single .choices__item {
        max-width: calc(100% - 30px) !important;
    }
}

/* ===== MODAL DE VALIDAÇÃO - MOBILE ===== */
/* Análise Inteligente abaixo do gráfico e médias */

@media (max-width: 768px) {

    /* Modal de validação ocupa tela toda */
    .modal-validacao {
        width: 100% !important;
        height: 100% !important;
        max-width: 100% !important;
        max-height: 100% !important;
        border-radius: 0 !important;
    }

    /* Body do modal em coluna */
    .modal-validacao-body {
        display: flex !important;
        flex-direction: column !important;
        flex-wrap: nowrap !important;
        overflow-y: auto !important;
        overflow-x: hidden !important;
    }

    /* Coluna principal primeiro (gráfico, resumo, tabela) */
    .validacao-coluna-principal {
        order: 1 !important;
        width: 100% !important;
        flex-shrink: 0 !important;
        padding: 12px !important;
        overflow: visible !important;
    }

    /* Coluna de IA depois (abaixo de tudo) */
    .validacao-coluna-ia {
        order: 2 !important;
        width: 100% !important;
        min-width: 100% !important;
        max-height: none !important;
        border-left: none !important;
        border-top: 1px solid #e2e8f0 !important;
        flex-shrink: 0 !important;
    }

    /* Ajustar altura das mensagens de IA no mobile */
    .validacao-coluna-ia .ia-chat-mensagens {
        max-height: 200px !important;
        min-height: 100px !important;
    }

    /* Resumo em grid no mobile */
    .validacao-resumo {
        flex-wrap: wrap !important;
        gap: 10px !important;
    }

    .validacao-resumo .resumo-item {
        min-width: calc(50% - 10px) !important;
        flex: 1 1 calc(50% - 10px) !important;
    }

    /* Gráfico menor no mobile */
    .grafico-container-validacao,
    .validacao-grafico-container {
        height: 200px !important;
        min-height: 200px !important;
    }

    /* Tabela de validação com scroll horizontal */
    .validacao-tabela-container {
        margin: 0 -12px !important;
        width: calc(100% + 24px) !important;
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch !important;
    }

    /* Formulário de validação em coluna */
    .validacao-form-row {
        flex-direction: column !important;
        gap: 12px !important;
    }

    .validacao-form-group {
        width: 100% !important;
        min-width: 100% !important;
    }

    /* Controles do gráfico em coluna */
    .grafico-controles {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 10px !important;
    }

    /* Botões de valores sugeridos em coluna */
    .valores-sugeridos-acoes {
        flex-direction: column !important;
    }

    .valores-sugeridos-acoes button {
        width: 100% !important;
    }
}

/* ============================================
   CORREÇÃO GRID MODO DATAS - DATA INÍCIO E DATA FIM
   Adicionar ao FINAL do operacoes.css
   ============================================ */

/* Grid no modo datas - 5 colunas: Tipo, Unidade, Ponto, DataInicio, DataFim */
.filtros-grid.modo-datas {
    display: grid !important;
    grid-template-columns: 1.3fr 1.3fr 1.3fr 1fr 1fr !important;
    gap: 16px !important;
    align-items: end !important;
}

/* Form-groups de data - SEM forçar display para permitir JS esconder */
#grupoDataInicio,
#grupoDataFim {
    flex-direction: column;
    gap: 6px;
    min-width: 0;
    width: 100%;
}

/* Quando visível (display:flex aplicado pelo JS) */
#grupoDataInicio[style*="display: flex"],
#grupoDataFim[style*="display: flex"] {
    flex-direction: column !important;
    gap: 6px !important;
}

/* Inputs de data - estilo padronizado */
#grupoDataInicio input,
#grupoDataFim input,
input#inputDataInicio,
input#inputDataFim {
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
    display: block !important;
    width: 100% !important;
    height: 40px !important;
    min-height: 40px !important;
    padding: 8px 12px !important;
    margin: 0 !important;
    background-color: #f8fafc !important;
    border: 1px solid #e2e8f0 !important;
    border-radius: 10px !important;
    font-family: inherit !important;
    font-size: 13px !important;
    color: #334155 !important;
    box-sizing: border-box !important;
    cursor: pointer !important;
    outline: none !important;
}

/* Hover */
#grupoDataInicio input:hover,
#grupoDataFim input:hover {
    border-color: #cbd5e1 !important;
    background-color: #ffffff !important;
}

/* Focus */
#grupoDataInicio input:focus,
#grupoDataFim input:focus {
    background-color: #ffffff !important;
    border-color: #3b82f6 !important;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
}

/* Ícone calendário */
#grupoDataInicio input::-webkit-calendar-picker-indicator,
#grupoDataFim input::-webkit-calendar-picker-indicator {
    cursor: pointer !important;
    opacity: 1 !important;
}

/* ============================================
   RESPONSIVO
   ============================================ */

@media (max-width: 1400px) {
    .filtros-grid.modo-datas {
        grid-template-columns: 1fr 1fr 1fr !important;
    }
}

@media (max-width: 900px) {
    .filtros-grid.modo-datas {
        grid-template-columns: 1fr 1fr !important;
    }
}

@media (max-width: 768px) {
    .filtros-grid.modo-datas {
        grid-template-columns: 1fr !important;
    }

    #grupoDataInicio input,
    #grupoDataFim input {
        font-size: 16px !important;
    }
}

/* ===== TABS MODO NÍVEL RESERVATÓRIO ===== */
.validacao-nivel-tabs {
    display: flex;
    gap: 4px;
    margin-bottom: 14px;
    background: #f1f5f9;
    border-radius: 8px;
    padding: 3px;
}

.validacao-nivel-tab {
    flex: 1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 8px 14px;
    background: transparent;
    border: none;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 500;
    color: #64748b;
    cursor: pointer;
    transition: all 0.2s;
}

.validacao-nivel-tab:hover {
    color: #334155;
    background: rgba(255, 255, 255, 0.5);
}

.validacao-nivel-tab.active {
    background: white;
    color: #3b82f6;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    font-weight: 600;
}

.validacao-nivel-tab:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.validacao-nivel-tab ion-icon {
    font-size: 14px;
}

/* Preview da distribuição */
.intervalo-preview-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
}

.intervalo-preview-item {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    background: #eff6ff;
    border: 1px solid #bfdbfe;
    border-radius: 8px;
    font-size: 12px;
    color: #1e40af;
}

.intervalo-preview-item .hora-label {
    font-weight: 600;
}

.intervalo-preview-item .minutos-label {
    background: #3b82f6;
    color: white;
    padding: 2px 8px;
    border-radius: 10px;
    font-weight: 600;
    font-size: 11px;
}

.intervalo-preview-item .minutos-intervalo {
    font-size: 11px;
    color: #64748b;
}

/* Mobile */
@media (max-width: 768px) {
    .validacao-nivel-tabs {
        gap: 2px;
    }

    .validacao-nivel-tab {
        font-size: 11px;
        padding: 7px 10px;
    }

    .intervalo-preview-grid {
        flex-direction: column;
    }
}

/* =====================================================
       SELETOR DE MÉTODO DE ESTIMATIVA
       Cards clicáveis para escolha do método no fluxo de sugestão
       ===================================================== */
.metodo-seletor-grid {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 12px 0;
}

.metodo-seletor-card {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    border: 1px solid #e2e8f0;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    background: #fff;
}

.metodo-seletor-card:hover {
    border-color: var(--metodo-cor, #3b82f6);
    background: #f8fafc;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    transform: translateX(4px);
}

.metodo-seletor-icone {
    width: 40px;
    height: 40px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    flex-shrink: 0;
}

.metodo-seletor-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.metodo-seletor-info strong {
    font-size: 14px;
    color: #1e293b;
}

.metodo-seletor-info small {
    font-size: 11px;
    color: #64748b;
    line-height: 1.3;
}

.metodo-seletor-seta {
    color: #94a3b8;
    font-size: 18px;
    flex-shrink: 0;
    transition: transform 0.2s;
}

.metodo-seletor-card:hover .metodo-seletor-seta {
    color: var(--metodo-cor, #3b82f6);
    transform: translateX(3px);
}

/* Responsivo: em telas menores */
@media (max-width: 600px) {
    .metodo-seletor-card {
        padding: 10px 12px;
    }

    .metodo-seletor-icone {
        width: 34px;
        height: 34px;
        font-size: 17px;
    }

    .metodo-seletor-info strong {
        font-size: 13px;
    }

    .metodo-seletor-info small {
        font-size: 10px;
    }
}

/* ============================================
   BOTÃO AJUDA NO HEADER DO MODAL DE VALIDAÇÃO
   ============================================ */
.modal-validacao-ajuda {
    background: rgba(255, 255, 255, 0.15);
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: white;
    font-size: 18px;
    cursor: pointer;
    padding: 4px 6px;
    border-radius: 4px;
    line-height: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
}

.modal-validacao-ajuda:hover {
    background: rgba(255, 255, 255, 0.3);
    border-color: rgba(255, 255, 255, 0.5);
    transform: scale(1.1);
}

.modal-validacao-ajuda ion-icon {
    font-size: 18px;
}

/* ============================================
   MODAL DE AJUDA - DATASETS DO GRÁFICO
   ============================================ */
.modal-ajuda-datasets-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.6);
    z-index: 10002;
    align-items: center;
    justify-content: center;
}

.modal-ajuda-datasets-overlay.active {
    display: flex;
}

.modal-ajuda-datasets {
    background: white;
    border-radius: 14px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.35);
    width: 92%;
    max-width: 680px;
    max-height: 85vh;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    animation: modalAjudaEntrar 0.25s ease-out;
}

@keyframes modalAjudaEntrar {
    from {
        opacity: 0;
        transform: scale(0.95) translateY(10px);
    }

    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

.modal-ajuda-datasets-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    background: linear-gradient(135deg, #1e3a5f 0%, #2d4a6f 100%);
    color: white;
    flex-shrink: 0;
}

.modal-ajuda-datasets-header h3 {
    margin: 0;
    font-size: 15px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
}

.modal-ajuda-datasets-header h3 ion-icon {
    font-size: 20px;
}

.modal-ajuda-datasets-close {
    background: rgba(255, 255, 255, 0.2);
    border: none;
    color: white;
    font-size: 20px;
    cursor: pointer;
    padding: 4px;
    border-radius: 4px;
    line-height: 1;
    display: flex;
    align-items: center;
    transition: background 0.2s;
}

.modal-ajuda-datasets-close:hover {
    background: rgba(255, 255, 255, 0.35);
}

.modal-ajuda-datasets-body {
    padding: 20px;
    overflow-y: auto;
    flex: 1;
}

/* Seções */
.ajuda-secao {
    margin-bottom: 24px;
}

.ajuda-secao:last-child {
    margin-bottom: 0;
}

.ajuda-secao-titulo {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    font-weight: 700;
    color: #1e3a5f;
    margin-bottom: 12px;
    padding-bottom: 8px;
    border-bottom: 2px solid #e2e8f0;
}

.ajuda-secao-titulo ion-icon {
    font-size: 18px;
    color: #3b82f6;
}

/* Cards de dataset */
.ajuda-dataset-card {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 10px 12px;
    border-radius: 8px;
    margin-bottom: 8px;
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    transition: background 0.15s;
}

.ajuda-dataset-card:hover {
    background: #f1f5f9;
}

.ajuda-dataset-card:last-child {
    margin-bottom: 0;
}

.ajuda-dataset-icone {
    width: 14px;
    min-width: 14px;
    height: 14px;
    border-radius: 3px;
    margin-top: 3px;
}

.ajuda-dataset-info strong {
    display: block;
    font-size: 13px;
    color: #1e293b;
    margin-bottom: 3px;
}

.ajuda-dataset-info p {
    margin: 0;
    font-size: 12px;
    color: #475569;
    line-height: 1.5;
}

.ajuda-dataset-info code {
    background: #e2e8f0;
    padding: 1px 5px;
    border-radius: 3px;
    font-size: 11px;
    color: #1e293b;
    font-family: 'Consolas', 'Monaco', monospace;
}

/* Grid de cores da tabela */
.ajuda-cores-grid {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.ajuda-cor-item {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 12px;
    color: #475569;
}

.ajuda-cor-amostra {
    width: 28px;
    min-width: 28px;
    height: 18px;
    border-radius: 4px;
}

/* ============================================
   MODAL AJUDA - RESPONSIVO
   ============================================ */
@media (max-width: 768px) {
    .modal-ajuda-datasets {
        width: 100%;
        max-width: 100%;
        max-height: 100%;
        border-radius: 0;
    }

    .modal-ajuda-datasets-body {
        padding: 16px;
    }

    .ajuda-dataset-card {
        padding: 8px 10px;
    }

    .ajuda-dataset-info p {
        font-size: 11px;
    }
}

/* ============================================
   SEPARADOR + BOTÃO TOGGLE ESTIMATIVAS DE REDE
   ============================================ */

/* Separador vertical entre controles padrão e estimativas */
.grafico-controles-separador {
    width: 1px;
    height: 20px;
    background: #cbd5e1;
    margin: 0 4px;
    flex-shrink: 0;
}

/* Botão toggle das estimativas */
.btn-toggle-estimativas {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    padding: 4px 10px;
    border-radius: 6px;
    border: 1px solid #8b5cf6;
    background: linear-gradient(135deg, #ede9fe 0%, #e0e7ff 100%);
    color: #6d28d9;
    font-size: 11px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    white-space: nowrap;
}

.btn-toggle-estimativas ion-icon {
    font-size: 14px;
}

.btn-toggle-estimativas:hover {
    background: linear-gradient(135deg, #ddd6fe 0%, #c7d2fe 100%);
    border-color: #7c3aed;
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(139, 92, 246, 0.25);
}

/* Estado inativo (estimativas ocultas) */
.btn-toggle-estimativas.inativo {
    background: #f1f5f9;
    border-color: #cbd5e1;
    color: #94a3b8;
}

.btn-toggle-estimativas.inativo:hover {
    background: #e2e8f0;
    border-color: #94a3b8;
    color: #64748b;
    box-shadow: none;
    transform: none;
}

.btn-toggle-estimativas.inativo span {
    text-decoration: line-through;
}

/* Mobile: botão em nova linha */
@media (max-width: 768px) {
    .grafico-controles-separador {
        display: none !important;
    }

    .btn-toggle-estimativas {
        width: 100%;
        justify-content: center;
        padding: 8px 12px;
        font-size: 12px;
    }
}